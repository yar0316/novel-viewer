Run echo "Starting Supabase sync..." echo "Starting Supabase sync..." python scripts/sync_supabase.py temp_data shell: /usr/bin/bash -e {0} env: pythonLocation: /opt/hostedtoolcache/Python/3.11.13/x64 PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.11.13/x64/lib/pkgconfig Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.11.13/x64 Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.11.13/x64 Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.11.13/x64 LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.11.13/x64/lib SUPABASE_URL: ***SUPABASE_SERVICE_ROLE_KEY:*** Starting Supabase sync... [2025-07-14 12:28:56] ğŸš€ Starting sync from temp_data [2025-07-14 12:28:56] ğŸ“– Processed novel 'é»æ˜ã®ãƒ©ãƒ“ãƒªãƒ³ã‚¹' with 1 episodes [2025-07-14 12:28:56] ğŸ“– Processed novel 'å­£ç¯€ã®ç‰©èª' with 4 episodes [2025-07-14 12:28:56] ğŸ“– Processed novel 'æ˜Ÿã®ç¥æ®¿' with 4 episodes [2025-07-14 12:28:56] ğŸ“Š Summary: 3 novels, 9 episodes [2025-07-14 12:28:56] ğŸ”„ Upserting 3 records to 'novels'... [2025-07-14 12:28:56] ğŸ“¤ Request URL: ***/rest/v1/novels [2025-07-14 12:28:56] ğŸ“‹ Headers: { "apikey": "***", "Content-Type": "application/json", "Prefer": "resolution=merge-duplicates" } [2025-07-14 12:28:57] ğŸ“¥ Response status: 400 [2025-07-14 12:28:57] âŒ Error upserting to 'novels': 400 Client Error: Bad Request for url: ***/rest/v1/novels [2025-07-14 12:28:57] ğŸ” Data being sent to 'novels': [2025-07-14 12:28:57] Record 1: { "id": 3, "title": "é»æ˜ã®ãƒ©ãƒ“ãƒªãƒ³ã‚¹", "author": "Gemini CLI", "description": "è¬ã®ãƒ€ãƒ³ã‚¸ãƒ§ãƒ³ã‚’æ”»ç•¥ã™ã‚‹ç‰©èªã€‚\n", "genre": "ãƒ•ã‚¡ãƒ³ã‚¿ã‚¸ãƒ¼", "tags": [ "ãƒ€ãƒ³ã‚¸ãƒ§ãƒ³", "å†’é™º" ], "status": "é€£è¼‰ä¸­", "created_at": "2025-07-14", "updated_at": "2025-07-14T12:28:56.741557" } [2025-07-14 12:28:57] Record 1 types: [2025-07-14 12:28:57] id: int = 3 [2025-07-14 12:28:57] title: str = é»æ˜ã®ãƒ©ãƒ“ãƒªãƒ³ã‚¹ [2025-07-14 12:28:57] author: str = Gemini CLI [2025-07-14 12:28:57] description: str = è¬ã®ãƒ€ãƒ³ã‚¸ãƒ§ãƒ³ã‚’æ”»ç•¥ã™ã‚‹ç‰©èªã€‚ [2025-07-14 12:28:57] genre: str = ãƒ•ã‚¡ãƒ³ã‚¿ã‚¸ãƒ¼ [2025-07-14 12:28:57] tags: list = ['ãƒ€ãƒ³ã‚¸ãƒ§ãƒ³', 'å†’é™º'] [2025-07-14 12:28:57] status: str = é€£è¼‰ä¸­ [2025-07-14 12:28:57] created_at: str = 2025-07-14 [2025-07-14 12:28:57] updated_at: str = 2025-07-14T12:28:56.741557 [2025-07-14 12:28:57] Record 2: { "id": 2, "title": "å­£ç¯€ã®ç‰©èª", "author": "Gemini", "description": "ã“ã‚Œã¯å­£ç¯€ã‚’ãƒ†ãƒ¼ãƒã«ã—ãŸç‰©èªã§ã™ã€‚\n", "genre": "ãƒ•ã‚¡ãƒ³ã‚¿ã‚¸ãƒ¼", "tags": [ "å­£ç¯€", "è‡ªç„¶" ], "status": "é€£è¼‰ä¸­", "created_at": "2025-07-14", "updated_at": "2025-07-14T12:28:56.743288" } [2025-07-14 12:28:57] Record 2 types: [2025-07-14 12:28:57] id: int = 2 [2025-07-14 12:28:57] title: str = å­£ç¯€ã®ç‰©èª [2025-07-14 12:28:57] author: str = Gemini [2025-07-14 12:28:57] description: str = ã“ã‚Œã¯å­£ç¯€ã‚’ãƒ†ãƒ¼ãƒã«ã—ãŸç‰©èªã§ã™ã€‚ [2025-07-14 12:28:57] genre: str = ãƒ•ã‚¡ãƒ³ã‚¿ã‚¸ãƒ¼ [2025-07-14 12:28:57] tags: list = ['å­£ç¯€', 'è‡ªç„¶'] [2025-07-14 12:28:57] status: str = é€£è¼‰ä¸­ [2025-07-14 12:28:57] created_at: str = 2025-07-14 [2025-07-14 12:28:57] updated_at: str = 2025-07-14T12:28:56.743288 [2025-07-14 12:28:57] Record 3: { "id": 1, "title": "æ˜Ÿã®ç¥æ®¿", "author": "Claude", "description": "å¤ä»£éºè·¡ã‚’æ¢ç´¢ã™ã‚‹å†’é™ºè€…ãŸã¡ã®ç‰©èªã€‚\n", "genre": "SFãƒ•ã‚¡ãƒ³ã‚¿ã‚¸ãƒ¼", "tags": [ "å®‡å®™", "å†’é™º", "å¤ä»£æ–‡æ˜" ], "status": "å®Œçµ", "created_at": "2025-07-14", "updated_at": "2025-07-14T12:28:56.745577" } [2025-07-14 12:28:57] Record 3 types: [2025-07-14 12:28:57] id: int = 1 [2025-07-14 12:28:57] title: str = æ˜Ÿã®ç¥æ®¿ [2025-07-14 12:28:57] author: str = Claude [2025-07-14 12:28:57] description: str = å¤ä»£éºè·¡ã‚’æ¢ç´¢ã™ã‚‹å†’é™ºè€…ãŸã¡ã®ç‰©èªã€‚ [2025-07-14 12:28:57] genre: str = SFãƒ•ã‚¡ãƒ³ã‚¿ã‚¸ãƒ¼ [2025-07-14 12:28:57] tags: list = ['å®‡å®™', 'å†’é™º', 'å¤ä»£æ–‡æ˜'] [2025-07-14 12:28:57] status: str = å®Œçµ [2025-07-14 12:28:57] created_at: str = 2025-07-14 [2025-07-14 12:28:57] updated_at: str = 2025-07-14T12:28:56.745577 Error: Process completed with exit code 1.
